{"version":3,"sources":["assets/MediaPlayer.ts","assets/plugins/AutoPlay.ts","assets/plugins/AutoPause.ts","assets/plugins/Ads/Ads.ts","assets/plugins/Ads/index.ts","assets/index.ts"],"names":[],"mappings":";;;;;;AAAA,AECA,ADAA,IDDA,AECA,ADAA,QAAA,CCAA,EFDA;AAAA,AECA,ADAA;ADDA,AECA,ADAA,YDDA,AECA,ADAA;ADII,AEDA,ADFA,WDGA,AEDA,ADFA,QAAA,CCEA,EFCA,ACHA,CDGY,AEDZ,ADFgB,MDGhB,EAAkB;AACd,AEDA,SFCK,AEDA,KFCL,GAAa,CEDb,GAAiB,EFCE,CAAC,CEDpB,CFCA;AACA,AEDA,ADHJ,EAAA,ODIS,AEDA,CDHT,CAAA,KDII,GAAe,CCJnB,CAAA,GAAA,CDIyB,CAAC,CCJ1B,CCGI,GAA2B,EFCZ,GEDiB,CFCC,ACJjC,EDIA,ICJJ,EAAuB,UCGQ,CAAyB,IAAzB,CAA8B,IAA9B,CAA3B;AFEA,AKRR,ADCA,AFMQ,ADHA,IIJR,ADCA,IHGY,CDIC,AIPb,AFMa,ADHA,GGHb,GHGmB,CAAC,CIJpB,ELQQ,CKRR,CJIa,CAAa,KGH1B,AHGQ,CGHR,CHGiC,ECGzB,GAA8B,CGPtC,ADCA,CCDA,ADCA,GFM2C,IGP3C,ADCA,CCDA,ADCA,CAAA,cCDA,CAAA,CAAA,AHOsC,CAA4B,IAA5B,CAAiC,IAAjC,CAA9B;AFEA,AGFR,ADCK,ADHO,IEEN,EFFM,GDIC,EGFA,CFFK,CAAC,CEEG,CACpB,GFHU,CAAa,CDIjB,ICJI,GAAqB,IAArB;ADKP,AKTL,AFQI,ACNJ,AHGS,EEGL,EERJ,ADEA,MDMY,EACN,CCPN,CCFA,GAAA,eAAA,CAAA,OAAA,CAAA,oBAAA,CAAA,CAAA,iEFOE;AAGE,ACRJ,AFMI,ECEA,ADFA,KCEK,EAAE,EDFP,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,ICDN,EDCE,EAAU;AFEV,AKTJ,AFUI,ACTJ,AFOQ,ADHA,EDIJ,AGCA,EEVJ,AJKQ,EEKA,EACF,CDHO,CDHC,CAAC,CGJf,CJQI,CAAA,CKTJ,AHQQ,ADHA,GILR,AHQsB,KFClB,CAAA,AEDI,SGRR,CLSI,AKTJ,GLSI,IKTJ,CAAA,OLSI,cKTJ,CAAA,CAAA,iEFME;AHIM,AGEJ,ACJF,AFCM,ADHH,EEMD,CFXA,EEWG,EAAE,CDHK,CFCD,EIFX,KFCoB,EFCd,CEDiB,CEDvB,CJEuB,EIFvB,AFC2B,MFCI,CAAC,aAAT,AEDA,CFCuB,AEDE,KFCzB,AED8B,CFC/C,kBEDiB,EAAmD;AFEpE,AKVR,AFKE,ACGE,AFCQ,CCLU,EAUpB,CEdF,EHSY,GFCC,AKVb,ADQS,GCRT,ADQI,GAAW,AFCM,EAAE,CFCf,CAAe,CIFR,CAAA,CFCa,EFCpB,CAAqB,EKV7B,CAAA,ADQe,CAAI,IJEX,EKVR,CLUwC,AKVxC,IDQe,EAAX,IJEI,KKVR,CAAA,CAAA;ALWQ,AGIJ,ACNA,AFDwE,ADF5E,EESI,GDPqB,CAAjB,GFGK,AIFJ,AHHT,CESY,EACN,EHLE,CAAW,ECLnB,IGGI,GAAoB,CJEhB,CAAsB,MIFE,CAAC,KJEzB,CAAmC,KAAK,EIFxB,CAAuB,KAAvB,CJEhB,AIFJ,EJEuD,KAAK,KAAxD,2DGGN;AHFM,AKVR,AFeI,ACPA,AFCI,ADbR,CAAA,CEmBI,CFnBJ,CIIM,AHSE,GCMC,EHLI,AKVF,AFeA,ACPF,GCRmB,AHSZ,CAAC,KFCT,CAAe,CKVa,AHS5B,CGT6B,AHSZ,IEDrB,CFC0B,EEDF,EJEpB,CAA2B,CEDV,CEDQ,AFCI,CGTT,CAAuB,CLUX,EGEtC,ADHM,GFCA,CKVoB,CAA5B,MDQ4B,CAAsB,IAAtB,CAA2B,IAA3B,CAAxB;AJGC,AKVL,AFeI,ACPD,AFCK,ECMJ,CHVA,CKLE,AHSE,ECMA,EACF,IDPU,CAAC,CGTD,GAAiB,QAAQ,CAAC,GHSlC,CAA0B,SGTD,CAAuB,QHShD,EAA8C,GGTrB,CAAjC,CHS2D,sBAAnD,wDCEN;AEVF,AFgBI,ADPC,ADNL,EEaI,CDdA,CGFE,CFgBC,EAAE,AFbT,CAAA,MIHgB,CJGhB,EIHiC,CJGlB,OIH0B,CAAC,AJG1C,aIHiC,CAAuB,aAAvB,CAAjC;ALUY,AKRZ,AFQE,ACFA,CDRoB,CHUV,AIFV,CDWA,CEjBI,MAAM,CDMV,CAAA,CJEU,AKRG,CLQH,GKRO,IDMjB,CAAA,CJEU,CAAA,CIFV,GAAA,ECNiB,CAAA,ILQP,GAAR,AKRW,ADMT,CCNyB,KDM7B,EAAuB,IJErB;AAAA,AKPA,AFiBA,ACXA,AFCQ,EGPR,AFiBA,ADVQ,EGPN,EAAE,ELOJ,CIDK,CDWG,CElBmB,AHQnB,CCWN,ADXM,CFAR,EIDA,CJCA,EIDc,EJCd,CEAQ,CAAA,EEDR,iBFCQ,GAAR,UAA4B,OAA5B,EAAiE,uDCSnE;AEfE,AFkBA,ACZA,AFCI,EGPJ,AFkBA,KAAK,CDXK,CGPH,AFkBA,ACZF,ECNI,CAAC,CHOK,EEDf,CCNc,ADMF,AFCM,OAAO,CAAC,CED1B,AFCyB,CGPX,ADMQ,AFClB,CGPU,OAAJ,EAAD,CDMT,CCN0B,ADMQ,CDSpC,GEfgC,CDMS,UCNT,CAAA,CDM9B,MCN0B,EAAjB,EAAmC,IAAI,KAAA,CAAA,OAAJ,EAAnC;ALOL,AKTuB,AFqB3B,ACZA,AFCI,CGVO,CAAf,AFqBI,IAAI,EACF,ADZQ,CFDD,AIAJ,KAAL,EJAI,CAAa,AIAJ,AFCM,GAAG,EEDJ,EJAd,CAAqB,AECE,CAAC,EEDf,CAAY,KAAzB,CJAyB,MAAA,EAAM,AECT,IAA2B,KAAK,SAAlD,gGCON;AHPU,AGaR,ACbA,EDaA,GAAG,CHbK,CGaH,ECbA,GJAS,CAAC,CIAf,CAAW,CJAH,CAAW,KAAX,SIAR,CAA4B,YAA5B,EAA0C,KAAK,gBAA/C;AJCK,AKPT,AFaE,ACNC,AFAK,CCbc,EA4BpB,ACpBA,EJGM,GEEI,EGPF,CAAC,MHOH,CGPR,CHOuB,EGPF,YAAA;ALQhB,AKRsB,AFuBvB,ADfQ,ECeR,CHnBQ,MKJe,CFuBf,CDfK,CCgBX,GExB2B,CAAC,CHQtB,CAAY,IAAZ,IGRe,EAAA,qFFsBzB;AEtB4C,AFyB1C,AChBM,AFAD,CGTT,CFyBI,AChBM,GFFF,ECkBC,EACH,ECjBI,AFAK,CEAL,SAAA,CAAA,gBAAA,GAAR,YAAA,qFDaA;AHbE,AGkBA,ACjBA,AFAQ,EFDR,AGkBA,IAAI,EACF,AClBI,GFAO,EFDb,CAAA,GECQ,CAAY,CEAH,GAAG,CJDpB,AECQ,CFDR,EICwB,CAAC,CJDzB,GAAA,CICoB,CAAW,KAAK,KJDpC,AIC+B,CAAW,WAAtB,CAApB,0EDYF;AHZM,AKTR,AF4BI,ADlBK,ECkBL,GAAG,EAAE,EHnBI,CKTH,CAAC,GLSH,CAAW,GKTnB,CLSQ,EKTa,YAAA;ALUhB,AKVsB,AFqBzB,ACXE,AFCC,CClBiB,EHelB,AGuBF,AD5BU,KEOJ,CCVmB,MAAM,CAAC,GDUf,GAAG,EAAd,ECVmB,EAAA,CDUE,CAAzB,EAA4B;ACVc,AFgC1C,ACrBE,CCXN,CFgCI,QAAQ,CCrBD,CDsBL,OCtBA,6GDoBJ;AHpBE,AGuBA,ACtBC,AFAO,EFDR,AGuBA,ADtBQ,KCsBH,EAAE,EDtBC,CAAA,CFDR,CAAA,OECQ,CAAA,CFDR,CAAA,KAAA,GAAA,YAAA,AECQ,GAAR,ECmBF,UDnBE;AFAI,AKTR,AFgCI,ACtBD,AFAK,ECsBJ,CC3BM,CCLN,EFgCI,EACF,ADvBQ,CFDD,KAAL,CAAW,EECI,GFDf,AECkB,GGVH,KHUW,CAAC,GGVnC,EAAkC,UHUR,KAA6B,SAA/C,iGCkBN;AHlBG,AKTD,AFiCA,EEjCA,AFiCA,CH1BA,EG0BG,EAAE,IEjCI,CAAC,aAAV,CAAwB,QAAxB,CAAiC,sCAAjC,EAA8C,KAA9C,CAAoD,UAAA,KAAA,EAAK;AACrD,AF0BN,AChBQ,AFDF,CCrBc,CCsBZ,CDyBR,CEnCM,IHSI,GGTG,ADUL,CCVM,ADUN,GCVF,CAAY,CHSZ,EAAe,EGTE,ADUf,CCVgB,ADUhB,OCVF,CDUE,GAAR,YAAA;AJDE,AKRC,AFmCD,AC1BF,AFAU,EFDR,AG2BA,CErCA,KDWF,ED0BU,CD1BK,CC2BX,CH5BF,AICF,CJDE,EICF,CFAU,CAAY,EEAtB,EFAU,CFDR,CAAA,UAAA,GAAA,YAAA,yEG0BF;AHzBM,AKRP,AFoCG,AD3BK,EC2BL,GD7BI,EC6BC,CH5BG,CG4BD,ED3BI,EFDE,KAAL,CAAW,MAAf,EAAuB,aGyB7B;AHxBU,AG4BR,AC5BA,AFCQ,EC2BR,IAAI,EACF,AC7BE,GJAS,AECA,EEDJ,EJAD,EECA,CAAY,IEDpB,CFCQ,CEDY,+LDwBtB;AHvBO,AG6BL,AC7BE,AFCG,EC4BL,GH/BI,AG+BD,EAAE,IH7BM;AACH,AGsBV,ACtBG,AFCA,CC1BiB,EAwDpB,ADrCU,QFMK,KAAL;AACH,AG+BL,EAAA,QAAQ,EACN,mGAFJ;AH7BG,AGgCD,ACjCA,AFCJ,ECgCI,CHtCA,IGsCK,CCjCC,CDiCC,ADhCX,CEDY,GAAG,KAAK,AFCpB,GEDe,CAAS,KAAT,EAAX,QD8BF;AAIE,ACjCA,AFjCJ,CAAA,CCkEI,CDlEJ,GCkEQ,EACF,CClCG,SAAL,GAAiB,EAAjB,uMD6BF;AH5BE,AGkCA,AClCA,EJAA,AGkCA,GAAG,EAAE,EClCA,IJAL,CAAA,OIAA,CAAkB,CJAlB,CAAA,IAAA,GAAA,AIAA,GAA8B,SJA9B,+DIEiC,KAAK,SAAL,CAAe,GAFlB,GAEqB,iEAFrB,GAGK,KAAK,SAAL,CAAe,QAHpB,GAG4B,mFAH5B,GAKG,KAAK,SAAL,CAAe,KALlB,GAKuB,4CALvB,GAMC,KAAK,SAAL,CAAe,IANhB,GAMoB,0DANlD;AJCI,AG2BN,AChBE,AFXJ,CC7BsB,EAiEpB,CCzBE,GFXJ,CAAA,CFAa,KAAL,AIWM,CJXK,AIWJ,AFXf,GAAe,EFAP,GAAmB,IAAnB,AIWO,AFXf;AFCK,AGoCD,ACzBE,EDyBF,CHtCA,GIaE,IDyBM,CCzBF,CD0BJ,AC1BK,SAAL,GAAiB,IAAjB,yFDwBJ;AAGE,AC1BE,ED0BF,IC1BE,CD0BG,EAAE,EC1BD,CAAC,YAAL,CAAkB,SAAlB,GAA8B,EAA9B,CDuBJ;AHlCE,AGsCA,AC1BC,EJZD,AGsCA,GC7BU,CD6BN,CC1BD,CD2BD,IC9BQ,CJTV,AISA,CJTA,SAAA,CAAA,MAAA,GAAA,YAAA,sFGkCF;AHjCM,AGuCJ,AC3BD,ED2BC,CCjDM,EDiDH,EAAE,EHvCI,KAAL,CAAW,KAAX,GAAmB,KAAnB;AACH,AGgCH,CAjEoB,CAAtB,CH+BI;AIcJ,SAAA,SAAA;AJXI,AGyCJ,AC/EA,CAAA,CJsCI,CItCJ,CD+EA,GAAA,MHzCI,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACI,AGwCR,SHxCa,KAAL,CAAW,KAAX,GAAmB,KAAK,MAAL,EAAnB,GAAmC,KAAK,IAAL,EAAnC;AACH,AGuCL,AC5BA,GJbI,IIaJ,CAAA,ID4BA,GC5BA,GAAe,SAAf;ADgCE,WAAA,GAAA,GAAA;AH1CF,AG2CI,SH3CJ,AG2CS,OAAL,IH3CJ;AA5CA,AGwFG,CHxFH,EAAA;;AA6CA,AG6CS,EAAA,GAAA,CAAA,CH7CT,CAAA,OAAA,EG6CS,CH7CM,EG6Cb,SH7CF,GG6CE;AACE,QAAI,CAAC,GAAG,CAAC,QAAT,EAAmB;AACjB,MAAA,GAAG,CAAC,QAAJ,GAAe,IAAI,GAAJ,EAAf;AACD;;AAED,WAAO,GAAG,CAAC,QAAX;AACD,GANM;;AAQC,EAAA,GAAA,CAAA,SAAA,CAAA,OAAA,GAAR,YAAA;AACE,SAAK,GAAL,GAAQ,cAAA,CAAO,OAAP,CAAR;AACD,GAFO;;AAIR,EAAA,GAAA,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AACE,QAAI,KAAK,GAAL,CAAS,MAAT,KAAoB,CAAxB,EAA2B;AACzB,WAAK,OAAL;AACD;;AAED,WAAO,KAAK,GAAL,CAAS,GAAT,EAAP;AACD,GAND;;AAOF,SAAA,GAAA;AA3BA,CAAA,EAAA;;AA6BA,OAAA,CAAA,OAAA,GAAe,GAAf","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["class MediaPlayer {\r\n    media : HTMLMediaElement;\r\n    plugins : Array<any>;\r\n    container : HTMLElement;\r\n\r\n    constructor(config) {\r\n        this.media = config.el;\r\n        this.plugins = config.plugins || [];\r\n        this.initPlayer();\r\n        this.initPlugins();\r\n    }\r\n    initPlayer(){\r\n        this.container = document.createElement('div');\r\n        this.container.style.position = 'relative';\r\n        this.media.parentNode.insertBefore(this.container ,this.media);\r\n        this.container.appendChild(this.media);\r\n    }\r\n    private initPlugins() {\r\n        this.plugins.forEach(plugin => {\r\n            plugin.run(this);\r\n        });\r\n    }\r\n    play() {\r\n        this.media.play();\r\n    }\r\n    pause() {\r\n        this.media.pause();\r\n    }\r\n    togglePlay() {\r\n        if (this.media.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n    }\r\n    mute() {\r\n        this.media.muted = true;\r\n    }\r\n    unmute() {\r\n        this.media.muted = false;\r\n    }\r\n    toggleMute() {\r\n        this.media.muted ? this.unmute() : this.mute();\r\n    }\r\n}\r\nexport default MediaPlayer;","import MediaPlayer from '../MediaPlayer';\r\nclass AutoPlay {\r\n    constructor() {}\r\n    run(player: MediaPlayer) {\r\n        if (!player.media.muted) {\r\n            player.media.muted = true;\r\n        }\r\n        player.play();\r\n    }\r\n}\r\nexport default AutoPlay;","import MediaPlayer from '../MediaPlayer';\r\nclass AutoPause {\r\n    private threshold : number;\r\n    player : MediaPlayer\r\n    constructor() {\r\n        this.threshold = 0.25\r\n        this.handlerIntersection = this.handlerIntersection.bind(this);\r\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\r\n    }\r\n    run(player) {\r\n        this.player = player;\r\n        const observer = new IntersectionObserver(this.handlerIntersection, {\r\n            threshold: this.threshold\r\n        })\r\n        observer.observe(this.player.media);\r\n        document.addEventListener('visibilitychange', this.handleVisibilityChange);\r\n    }\r\n    private handlerIntersection(entries : IntersectionObserverEntry[]) {\r\n        const entry = entries[0];\r\n        const isVisible = entry.intersectionRatio >= this.threshold\r\n        if (isVisible) {\r\n            this.player.play()\r\n        } else {\r\n            this.player.pause();\r\n        }\r\n    }\r\n    private handleVisibilityChange() {\r\n        const isVisible = document.visibilityState === 'visible';\r\n        if (isVisible) {\r\n            this.player.play();\r\n        } else {\r\n            this.player.pause();\r\n        }\r\n    }\r\n}\r\n\r\nexport default AutoPause;","export interface Ad {\r\n  imageUrl: string;\r\n  title: string;\r\n  body: string;\r\n  url: string;\r\n}\r\n\r\nconst ALL_ADS: Ad[] = [\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-profesional-javascript-13538df2-24ce-433f-9aa6-e34eed608e70.png',\r\n    title: 'Curso Profesional de JavaScript',\r\n    body:\r\n      'Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.',\r\n    url: 'https://platzi.com/cursos/javascript-profesional/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-frontend-developer-8a49e681-3e22-408d-b886-2f47dfc9953a.png',\r\n    title: 'Curso de Frontend Developer',\r\n    body:\r\n      'Domina las bases de HTML y CSS. Define la arquitectura de tu código y construye un sitio web usando componentes estáticos. ',\r\n    url: 'https://platzi.com/cursos/frontend-developer/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-backend-node-8e6aa8a9-f7cd-42b7-bf4a-e1ee916a942b.png',\r\n    title: 'Curso de Backend con Node.js',\r\n    body:\r\n      'Crea aplicaciones backend utilizando Node.js, Express y Mongo. Entiende cómo funciona Javascript en un servidor y escribe aplicaciones con Node.js.',\r\n    url: 'https://platzi.com/cursos/backend-nodejs/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-prework-da6b0493-9908-40f3-ad53-f5d330b995b8.png',\r\n    title:\r\n      'Comienza tus proyectos de desarrollo para JavaScript configurando un entorno de desarrollo cómodo y adaptado a tus necesidades.',\r\n    body:\r\n      'Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.',\r\n    url: 'https://platzi.com/cursos/prework/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-autenticacion-passport-6d45426a-2b24-4757-8927-7bfaf54529dd.png',\r\n    title: 'Curso de Autenticación con Passport.js',\r\n    body:\r\n      'Genera estrategias de autenticación Sign-In y Sign-Out usando Passport.js. Agrega autenticación con Facebook, Twitter y Google a tus desarrollos.',\r\n    url: 'https://platzi.com/cursos/passport/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-backend-frontend-02b2ac18-331a-4959-85bf-0bd3c2aa009c.png',\r\n    title: 'Curso de Backend for Frontend',\r\n    body:\r\n      'La ingeniería de software evoluciona día a día, no te quedes atrás. Ahora que eres un Desarrollador FullStack JavaScript necesitas evolucionar con el software, construye arquitecturas de software modernas.',\r\n    url: 'https://platzi.com/cursos/bff/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-react-adec89d0-1c35-4c9c-847e-18c284dc79dd.png',\r\n    title: 'Curso Práctico de React JS',\r\n    body:\r\n      'React es una de las librerías más utilizadas hoy para crear aplicaciones web. Aprende a través de la creación de la interfaz de PlatziVideo todo lo que necesitas para crear increíbles componentes con React.      ',\r\n    url: 'https://platzi.com/cursos/react-ejs/',\r\n  },\r\n\r\n  {\r\n    imageUrl:\r\n      'https://static.platzi.com/media/achievements/badge-react-redux-2ca3c0a5-fc53-437f-bfba-69e9ddd5a803.png',\r\n    title: 'Curso de React Router y Redux',\r\n    body:\r\n      'Aprende de forma práctica a implementar React Router para manejar rutas en tus proyectos de frontend como un profesional.',\r\n    url: 'https://platzi.com/cursos/react-router-redux/',\r\n  },\r\n];\r\n\r\nclass Ads {\r\n  private static instance: Ads;\r\n  private ads: Ad[];\r\n\r\n  private constructor() {\r\n    this.initAds();\r\n  }\r\n\r\n  static getInstance() {\r\n    if (!Ads.instance) {\r\n      Ads.instance = new Ads();\r\n    }\r\n\r\n    return Ads.instance;\r\n  }\r\n\r\n  private initAds() {\r\n    this.ads = [...ALL_ADS];\r\n  }\r\n\r\n  getAd() {\r\n    if (this.ads.length === 0) {\r\n      this.initAds();\r\n    }\r\n\r\n    return this.ads.pop();\r\n  }\r\n}\r\n\r\nexport default Ads;\r\n","import MediaPlayer from '../../MediaPlayer';\r\nimport Ads, { Ad } from './Ads';\r\n\r\nclass AdsPlugin {\r\n  private ads: Ads;\r\n  private player: MediaPlayer;\r\n  private media: HTMLMediaElement;\r\n  private currentAd: Ad;\r\n  private adsContainer: HTMLElement;\r\n\r\n  constructor() {\r\n    this.ads = Ads.getInstance();\r\n    this.adsContainer = document.createElement('div');\r\n    this.handleTimeUpdate = this.handleTimeUpdate.bind(this);\r\n  }\r\n  run(player: MediaPlayer) {\r\n    this.player = player;\r\n    this.player.container.appendChild(this.adsContainer);\r\n    this.media = this.player.media;\r\n    this.media.addEventListener('timeupdate', this.handleTimeUpdate);\r\n  }\r\n\r\n  private handleTimeUpdate() {\r\n    const currentTime = Math.floor(this.media.currentTime);\r\n    if (currentTime % 30 === 0) {\r\n      this.renderAd();\r\n    }\r\n  }\r\n\r\n  private renderAd() {\r\n    if (this.currentAd) {\r\n      return;\r\n    }\r\n    const ad = this.ads.getAd();\r\n    this.currentAd = ad;\r\n    this.adsContainer.innerHTML = `\r\n      <div class=\"ads\">\r\n        <a class=\"ads__link\" href=\"${this.currentAd.url}\" target=\"_blank\">\r\n          <img class=\"ads__img\" src=\"${this.currentAd.imageUrl}\" />\r\n          <div class=\"ads__info\">\r\n            <h5 class=\"ads__title\">${this.currentAd.title}</h5>\r\n            <p class=\"ads__body\">${this.currentAd.body}</p>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    `;\r\n\r\n    setTimeout(() => {\r\n      this.currentAd = null;\r\n      this.adsContainer.innerHTML = '';\r\n    }, 10000);\r\n  }\r\n}\r\n\r\nexport default AdsPlugin;\r\n","import MediaPlayer from './MediaPlayer';\r\nimport AutoPlay from './plugins/AutoPlay';\r\nimport AutoPause from './plugins/AutoPause';\r\nimport Ads from './plugins/Ads';\r\n\r\nconst video : HTMLElement = document.querySelector('video');\r\nconst playButton : HTMLElement = document.querySelector('#playButton');\r\nconst muteButton : HTMLElement = document.querySelector('#muteButton');\r\n\r\nconst player = new MediaPlayer({\r\n    el: video,\r\n    plugins: [new AutoPlay(), new AutoPause() , new Ads()]\r\n});\r\nplayButton.onclick = () => player.togglePlay();\r\nmuteButton.onclick = () => player.toggleMute();\r\n\r\n\r\nif ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.register('./sw.ts', ).catch(error => {\r\n        console.log(error.message);\r\n    })\r\n}"]}